# 리팩터링 원칙

### 2.1 리팩터링

- 소트웨어의 겉보기 동작은 그대로 유지한 채, 코드를 이해하고 수정하기 쉽도록 내 구조를 변경하는 기법.
- 리팩터링하기 전과 후의 코드가 똑같이 동작해야 한다.
- 리팩터링의 목적은 코드를 이해하고 수정하기 쉽게 만드는 것이므로 성능이 좋아질 수도, 나빠질 수도 있다.

### 2.2 두 개의 모자

- `기능추가`: 기존 코드는 건드리지 않고 새 기능만 추가.
- `리팩터링`: 기능 추가 없이 오로지 코드 재구성.
- 현재 하고 있는 작업의 목적에 따라 작업 방식의 차이를 분명히 인식해야한다.

### 2.3 리팩터링 해야 하는 이유

- 리팩터링하면 소프트웨어 설계가 좋아진다.
- 중복 코드 제거는 중요함.
  - 이해해야 하는 코드도 줄어들고, 고유 업무를 보장할 수 있다.
- 리팩터링하면 소프트웨어를 이해하기 쉬워진다.
  - 컴퓨터에게 시키려는 일과 코드의 차이를 최대한 줄여야 한다.
- 리팩터링하면 버그를 쉽게 찾을 수 있다.
  - 코드를 이해하기 쉽다 = 버그를 찾기 쉽다.
- 리팩터링하면 프로그래밍 속도를 높일 수 있다.
  - 내부 설계와 가독성이 개선되고 버그가 줄어든다. = 품질 Up

### 2.4 언제 리팩터링해야 할까?

- 준비를 위한 리팩터링: 기능을 쉽게 추가하게 만들기
- 이해를 위한 리팩터링: 코드를 이해하기 쉽게 만들기
- 쓰레기 줍기 리팩터링
  - 간단히 해결할 수 있는것은 즉시 수정, 시간이 오래 걸릴 경우 메모후 나중에 수정
- 계획된 리팩터링과 수시로 하는 리팩터링
  - 보기 싫은 코드는 발견하면 바로 리팩터링하자, 잘 작성된 코드도 상황에 따라 리팩터링 해야할 수도 있다.
  - 무언가 수정하려 할 때는 먼저 수정하기 쉽게 정돈하고 수정해야 한다.
- 오래 걸리는 리팩터링
- 코드 리뷰에 리팩터링 활용하기
- 리팩터링하지 말아야 할 때
  - 내부 동작을 이해하지 못했을 때
  - 리팩터링 하는 것보다 처음부터 작성하는 것이 쉬울 때

### 2.5 리팩터링 시 고려할 문제

- 새 기능 개발 속도 저하
  - 리팩터링의 궁국적인 목적은 개발 속도를 높여서 더 적은 노력으로 더 많은 가치를 창출하는 것이다.
- 코드 소유권
  - 코드 소유권을 느슨하게 관리: 코드 소유권을 팀에게 주고, 팀원이라면 누구나 수정할 수 있도록 해야 한다.
- 브랜치
  - 지속적 통합(Continuous Integration: CI)을 시행하는 기간을 짧게 유지해야 머지의 복잡도를 낮출 수 있다.
- 테스팅
  - 자가 테스트를 만들어 둔다.
- 레거시 코드
  - 테스트를 보강한다.(?)...

### 2.6 리팩터링, 아키텍처, 애그니

- 리팩터링이 아키텍처에 미치는 실질적인 효과는 요구사항 변화에 자연스럽게 대응하도록 코드베이스를 잘 설계해준다.
- 향후 변경에 유연하게 대처할 수 있는 유연성 메커니즘을 소프트웨어에 심어두어야 한다.

### 2.7 리팩터링과 소프트웨어 개발 프로세서

- 익스트림 프로그래밍(Extram Programing: EX): 지속적 통합, 자가 테스트 코드, 리퍽터링

### 2.8 리팩터링과 성능

- 성능보단 리팩터링 후 성능을 올릴 수 있도록 튜닝하는 것이 좋다.

### 2.9 리팩터링의 유래

### 2.10 리팩터링 자동화
