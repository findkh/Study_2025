# 기본적인 리팩터링

## 6.1 함수 추출하기

- 코드 조각을 찾아 무슨 일을 하는지 파악한 다음, 독립된 함수로 추출하고 목적에 맞는 이름을 붙인다.
- 절차
  1. 함수를 새로 만들고 목적을 잘 드러내는 이름을 붙인다(어떻게가 아니고 `무엇을 하는지`가 드러나야 한다.)
  2. 추출할 코드를 원본 함수에서 복사하여 새 함수에 붙여 넣는다.
  3. 추출한 코드 중 원본 함수의 지역 변수를 참조하거나 추출한 함수의 유효범위를 벗어나는 변수는 없는지 검사한다. 있다면 매개변수로 전달한다.
  4. 변수를 다 처리했다면 컴파일한다.
  5. 원본 함수에서 추출한 코드 부분을 새로 함ㄴ든 함수를 호출하는 문장으로 바꾼다.
  6. 테스트한다.
  7. 다른 코드에 방금 추출한 것과 비슷한 코드가 있는지 살핀다. 있다면 방금 추출한 새 함수를 호출하도록 바꿀지 검토한다.

## 6.2 함수 인라인 하기

- 함수 본문이 이름만큼 명환한 경우 함수를 제거 한다.
- 간접 호출을 너무 과하게 쓰는 코드도 인라인 대상이다.
- 절차
  1. 다형 메서드인지 확인한다.
  2. 인라인할 함수를 호출하는 곳을 모두 찾는다.
  3. 각 호출문을 함수 본문으로 교체한다.
  4. 하나씩 교체할 때마다 테스트한다.
  5. 함수 정의(원래 함수)를 삭제한다.
